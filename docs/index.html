<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>prct09_Lucasperez02</title><meta name="description" content="Documentation for prct09_Lucasperez02"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">prct09_Lucasperez02</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>prct09_Lucasperez02</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#práctica-9-aplicación-de-registro-de-funko-pops" id="práctica-9-aplicación-de-registro-de-funko-pops" style="color: inherit; text-decoration: none;">
  <h1>Práctica 9: Aplicación de registro de Funko Pops</h1>
</a>
<p>En esta práctica se pedía implementar una aplicación cuya funcionalidad fuera manejar los registros de Funkos de usuarios mediante el uso de ficheros JSON. Permitir al usuario, mediante la paso de parámetros por terminal, añadir, eliminar, modificar o mostrar sus Funkos.</p>
<p>Para esto he decidido desarrollar 2 clases principales, una clase Funko que representará la información necesaria del mismo y otra clase Usuario, que tendrá el nombre del usuario y su lista de funkos.</p>
<p>Para el desarrollo de la práctica entonces si hará uso de 3 nuevos conceptos, los paquetes <strong>yargs</strong> y <strong>chalk</strong> y también la <strong>API síncrona</strong> proporcionada por Node.js para trabajar con el sistema de ficheros</p>

<a href="#clase-funko" id="clase-funko" style="color: inherit; text-decoration: none;">
  <h2><em>Clase Funko</em></h2>
</a>
<p>Esta clase será la que represente un funko, sus atributos serán los siguientes:</p>
<pre><code class="language-ts"><span class="hl-0">  </span><span class="hl-1">private</span><span class="hl-0"> </span><span class="hl-2">_id</span><span class="hl-0">: </span><span class="hl-1">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-1">private</span><span class="hl-0"> </span><span class="hl-2">_nombre</span><span class="hl-0">: </span><span class="hl-1">string</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-1">private</span><span class="hl-0"> </span><span class="hl-2">_descripcion</span><span class="hl-0">: </span><span class="hl-1">string</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-1">private</span><span class="hl-0"> </span><span class="hl-2">_tipo</span><span class="hl-0">: </span><span class="hl-1">TipoFunko</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-1">private</span><span class="hl-0"> </span><span class="hl-2">_genero</span><span class="hl-0">: </span><span class="hl-1">GeneroFunko</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-1">private</span><span class="hl-0"> </span><span class="hl-2">_franquicia</span><span class="hl-0">: </span><span class="hl-1">string</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-1">private</span><span class="hl-0"> </span><span class="hl-2">_numeroFranquicia</span><span class="hl-0">: </span><span class="hl-1">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-1">private</span><span class="hl-0"> </span><span class="hl-2">_esExclusivo</span><span class="hl-0">: </span><span class="hl-1">boolean</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-1">private</span><span class="hl-0"> </span><span class="hl-2">_características</span><span class="hl-0">: </span><span class="hl-1">string</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-1">private</span><span class="hl-0"> </span><span class="hl-2">_valorMercado</span><span class="hl-0">: </span><span class="hl-1">number</span><span class="hl-0">;</span>
</code></pre>
<p>En el constructor se comprobará, por un lado que el nombre no sea vacío</p>
<pre><code class="language-ts"><span class="hl-3">if</span><span class="hl-0"> (</span><span class="hl-1">nombre</span><span class="hl-0"> === </span><span class="hl-4">&quot;&quot;</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-3">throw</span><span class="hl-0"> </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-6">Error</span><span class="hl-0">(</span><span class="hl-4">&quot;nombre inválido&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">}</span>
</code></pre>
<p>y también se comprobará que el valor de mercado sea positivo</p>
<pre><code class="language-ts"><span class="hl-3">if</span><span class="hl-0"> (</span><span class="hl-1">valorMercado</span><span class="hl-0"> &lt;= </span><span class="hl-7">0</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-3">throw</span><span class="hl-0"> </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-6">Error</span><span class="hl-0">(</span><span class="hl-4">&quot;valor de mercado inválido&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">}</span>
</code></pre>
<p>En cuanto a métodos de la clase, solamente tendrá los getters para cada atributos del funko y también un método print que servirá para mostrar la información del funko por pantalla.</p>
<p>Los atributos <strong>_tipo</strong> y <strong>_genero</strong> son dos enumerados que también se han definido para esta práctica y corresponden con el siguiente código.</p>
<p>Correspondiente al <strong>Tipo del Funko</strong></p>
<pre><code class="language-ts"><span class="hl-3">export</span><span class="hl-0"> </span><span class="hl-5">enum</span><span class="hl-0"> </span><span class="hl-8">TipoFunko</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-9">POP</span><span class="hl-0"> = </span><span class="hl-4">&quot;Pop&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-9">POP_RIDES</span><span class="hl-0"> = </span><span class="hl-4">&quot;Pop Rides&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-9">VYNIL_SODA</span><span class="hl-0"> = </span><span class="hl-4">&quot;Vynil Soda&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-9">VYNIL_GOLD</span><span class="hl-0"> = </span><span class="hl-4">&quot;Vynil Gold&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">}</span>
</code></pre>
<p>Correspondiente al <strong>Género del Funko</strong></p>
<pre><code class="language-ts"><span class="hl-3">export</span><span class="hl-0"> </span><span class="hl-5">enum</span><span class="hl-0"> </span><span class="hl-8">GeneroFunko</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-9">ANIMACION</span><span class="hl-0"> = </span><span class="hl-4">&quot;Animacion&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-9">PELICULAS_TV</span><span class="hl-0"> = </span><span class="hl-4">&quot;Peliculas y TV&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-9">VIDEOJUEGOS</span><span class="hl-0"> = </span><span class="hl-4">&quot;Videojuegos&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-9">DEPORTES</span><span class="hl-0"> = </span><span class="hl-4">&quot;Deportes&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-9">MUSICA</span><span class="hl-0"> = </span><span class="hl-4">&quot;Musica&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-9">ANIME</span><span class="hl-0"> = </span><span class="hl-4">&quot;Anime&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">}</span>
</code></pre>
<p>Otra cosa a destacar sobre esta clase corresponde con el método print, en el que se emplea el <strong>chalk</strong> para mostrar por pantalla el color de del valor del mercado dependiendo del mismo.
Se hará de la siguiente manera.</p>
<pre><code class="language-ts"><span class="hl-3">if</span><span class="hl-0"> (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">valorMercado</span><span class="hl-0"> &gt;= </span><span class="hl-7">65</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-1">infoFunko</span><span class="hl-0"> += </span><span class="hl-4">`Valor: </span><span class="hl-5">${</span><span class="hl-1">chalk</span><span class="hl-10">.</span><span class="hl-6">red</span><span class="hl-10">(</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">valorMercado</span><span class="hl-10">)</span><span class="hl-5">}</span><span class="hl-4"> (Caro)`</span><span class="hl-0">;</span><br/><span class="hl-0">} </span><span class="hl-3">else</span><span class="hl-0"> </span><span class="hl-3">if</span><span class="hl-0"> (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">valorMercado</span><span class="hl-0"> &gt;= </span><span class="hl-7">45</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-1">infoFunko</span><span class="hl-0"> += </span><span class="hl-4">`Valor: </span><span class="hl-5">${</span><span class="hl-1">chalk</span><span class="hl-10">.</span><span class="hl-6">yellow</span><span class="hl-10">(</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">valorMercado</span><span class="hl-10">)</span><span class="hl-5">}</span><span class="hl-4"> (Precio elevado)`</span><span class="hl-0">;</span><br/><span class="hl-0">} </span><span class="hl-3">else</span><span class="hl-0"> </span><span class="hl-3">if</span><span class="hl-0"> (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">valorMercado</span><span class="hl-0"> &gt;= </span><span class="hl-7">25</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-1">infoFunko</span><span class="hl-0"> += </span><span class="hl-4">`Valor: </span><span class="hl-5">${</span><span class="hl-1">chalk</span><span class="hl-10">.</span><span class="hl-6">blue</span><span class="hl-10">(</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">valorMercado</span><span class="hl-10">)</span><span class="hl-5">}</span><span class="hl-4"> (Media de precio)`</span><span class="hl-0">;</span><br/><span class="hl-0">} </span><span class="hl-3">else</span><span class="hl-0"> </span><span class="hl-3">if</span><span class="hl-0"> (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">valorMercado</span><span class="hl-0"> &lt;= </span><span class="hl-7">24</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-1">infoFunko</span><span class="hl-0"> += </span><span class="hl-4">`Valor: </span><span class="hl-5">${</span><span class="hl-1">chalk</span><span class="hl-10">.</span><span class="hl-6">green</span><span class="hl-10">(</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">valorMercado</span><span class="hl-10">)</span><span class="hl-5">}</span><span class="hl-4"> (Barato)`</span><span class="hl-0">;</span><br/><span class="hl-0">}</span>
</code></pre>
<p>Como se observa, los funkos Caros (más de 65 €) se mostrará de color rojo, los funkos de Precio Elevado (entre 65 y 45 €) se mostrará de color amarillo, los funkos con un precio medio (entre 45 y 25 €) se mostrará de color azul y por ultimo, los funkos baratos (menos de 24€) se mostrarán de color verde.</p>

<a href="#clase-usuario" id="clase-usuario" style="color: inherit; text-decoration: none;">
  <h2><em>Clase Usuario</em></h2>
</a>
<p>Esta clase será la que se encargue de representar a un Usuario, con su nombre y su lista de Funkos además se podrá:</p>
<ul>
<li>Añadir funkos.</li>
<li>Eliminar funkos.</li>
<li>Modificar funkos.</li>
<li>Listar todos los funkos.</li>
<li>Mostrar un solo funko.</li>
</ul>

<a href="#constructor-de-la-clase" id="constructor-de-la-clase" style="color: inherit; text-decoration: none;">
  <h3>Constructor de la clase</h3>
</a>
<p>Para crear un usuario, lo primero que se hará es comprobar si existe una carpeta en la que se pueda alojar la información relativa a dicho usuario, en caso que no exista dicha carpeta, se creará con el nombre que se le haya indicado por el parámetro del constructor, además, se inicializa la lista de Funkos como vacía.
A continuación, en caso que exista la carpeta del usuario, se comprueba si tiene o no <strong>Funkos</strong>, si no tiene se indica mediante un mensaje y si tiene, obtendrá esta información con un parse y se introducirán en el array de funkos del usuario. Se hará de la siguiente manera:</p>
<pre><code class="language-ts"><span class="hl-0">      </span><span class="hl-3">if</span><span class="hl-0"> (</span><span class="hl-1">usuariosConFichero</span><span class="hl-0">.</span><span class="hl-1">length</span><span class="hl-0"> === </span><span class="hl-7">0</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-6">red</span><span class="hl-0">(</span><span class="hl-4">&quot;Usuario sin funkos&quot;</span><span class="hl-0">));</span><br/><span class="hl-0">      } </span><span class="hl-3">else</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">usuariosConFichero</span><span class="hl-0">.</span><span class="hl-6">forEach</span><span class="hl-0">((</span><span class="hl-1">ficheroDelUsuario</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">          </span><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-9">funkoJSON</span><span class="hl-0"> = </span><span class="hl-9">JSON</span><span class="hl-0">.</span><span class="hl-6">parse</span><span class="hl-0">(</span><br/><span class="hl-0">            </span><span class="hl-1">fs</span><br/><span class="hl-0">              .</span><span class="hl-6">readFileSync</span><span class="hl-0">(</span><br/><span class="hl-0">                </span><span class="hl-4">&quot;./src/FunkoApp/Usuarios/&quot;</span><span class="hl-0"> + </span><span class="hl-1">nombre</span><span class="hl-0"> + </span><span class="hl-4">&quot;/&quot;</span><span class="hl-0"> + </span><span class="hl-1">ficheroDelUsuario</span><br/><span class="hl-0">              )</span><br/><span class="hl-0">              .</span><span class="hl-6">toString</span><span class="hl-0">()</span><br/><span class="hl-0">          );</span><br/><span class="hl-0">          </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">misFunkos</span><span class="hl-0">.</span><span class="hl-6">push</span><span class="hl-0">(</span><br/><span class="hl-0">            </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-6">Funko</span><span class="hl-0">(</span><br/><span class="hl-0">              </span><span class="hl-1">funkoJSON</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">,</span><br/><span class="hl-0">              </span><span class="hl-1">funkoJSON</span><span class="hl-0">.</span><span class="hl-1">nombre</span><span class="hl-0">,</span><br/><span class="hl-0">              </span><span class="hl-1">funkoJSON</span><span class="hl-0">.</span><span class="hl-1">descripcion</span><span class="hl-0">,</span><br/><span class="hl-0">              </span><span class="hl-1">funkoJSON</span><span class="hl-0">.</span><span class="hl-1">tipo</span><span class="hl-0">,</span><br/><span class="hl-0">              </span><span class="hl-1">funkoJSON</span><span class="hl-0">.</span><span class="hl-1">genero</span><span class="hl-0">,</span><br/><span class="hl-0">              </span><span class="hl-1">funkoJSON</span><span class="hl-0">.</span><span class="hl-1">franquicia</span><span class="hl-0">,</span><br/><span class="hl-0">              </span><span class="hl-1">funkoJSON</span><span class="hl-0">.</span><span class="hl-1">numeroFranquicia</span><span class="hl-0">,</span><br/><span class="hl-0">              </span><span class="hl-1">funkoJSON</span><span class="hl-0">.</span><span class="hl-1">esExclusivo</span><span class="hl-0">,</span><br/><span class="hl-0">              </span><span class="hl-1">funkoJSON</span><span class="hl-0">.</span><span class="hl-1">características</span><span class="hl-0">,</span><br/><span class="hl-0">              </span><span class="hl-1">funkoJSON</span><span class="hl-0">.</span><span class="hl-1">valorMercado</span><br/><span class="hl-0">            )</span><br/><span class="hl-0">          );</span><br/><span class="hl-0">        });</span>
</code></pre>
<p>Como se observa, mediante la lectura del fichero correspondiente a la ruta indicada, se obtiene la información necesaria del funko.
Con esto ya tendríamos en el usuario su lista de Funkos.</p>

<a href="#función-addfunko" id="función-addfunko" style="color: inherit; text-decoration: none;">
  <h3>Función addFunko</h3>
</a>
<p>Con esta función podremos añadir a la lista de Funkos del usuario aquel Funko que se pase por parámetro.
Lo primero que se hará es comprobar si existe ya el funko en la lista del usuario, para esto se comparan los ID&#39;s y si existe se mostrará el mensaje <strong>&quot;Ya existe un funko con un ID igual en la lista de funkos&quot;</strong> y se cancela la operación. Por lado, si no existe el funko se añadirá a la lista con un push (<strong>this.misFunkos.push(funkoNuevo)</strong>) y se creará un fichero correspondiente de esta manera.</p>
<pre><code class="language-ts"><span class="hl-1">fs</span><span class="hl-0">.</span><span class="hl-6">writeFileSync</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-4">&quot;./src/FunkoApp/Usuarios/&quot;</span><span class="hl-0"> +</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">nombre</span><span class="hl-0"> +</span><br/><span class="hl-0">    </span><span class="hl-4">&quot;/&quot;</span><span class="hl-0"> +</span><br/><span class="hl-0">    </span><span class="hl-4">&quot;funko&quot;</span><span class="hl-0"> +</span><br/><span class="hl-0">    </span><span class="hl-1">funkoNuevo</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0"> +</span><br/><span class="hl-0">    </span><span class="hl-4">&quot;.json&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">datosFunko</span><br/><span class="hl-0">);</span>
</code></pre>

<a href="#función-deletefunko" id="función-deletefunko" style="color: inherit; text-decoration: none;">
  <h3>Función deleteFunko</h3>
</a>
<p>Con esta función se podrá eliminar de la lista de funkos de usuarios aquel que corresponda con el id que se pasa por parámetro. Habrá tres casos diferentes:</p>
<ol>
<li><p>La lista está vacía y se indica mediante un mensaje.</p>
</li>
<li><p>La lista no está vacía pero el funko con ID que se intenta eliminar no está en la lista, también se indica por mensaje.</p>
</li>
<li><p>La lista tiene Funkos y el que se intenta eliminar sí existe, se eliminará entonces.</p>
</li>
</ol>
<p>En este último caso, se hará con el siguiente código:</p>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-9">indice</span><span class="hl-0"> = </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">misFunkos</span><span class="hl-0">.</span><span class="hl-6">findIndex</span><span class="hl-0">((</span><span class="hl-1">funko</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">funko</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0"> === </span><span class="hl-1">funkoID</span><span class="hl-0">);</span><br/><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">misFunkos</span><span class="hl-0">.</span><span class="hl-6">splice</span><span class="hl-0">(</span><span class="hl-1">indice</span><span class="hl-0">, </span><span class="hl-7">1</span><span class="hl-0">);</span><br/><span class="hl-1">fs</span><span class="hl-0">.</span><span class="hl-6">rmSync</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-4">&quot;./src/FunkoApp/Usuarios/&quot;</span><span class="hl-0"> + </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">nombre</span><span class="hl-0"> + </span><span class="hl-4">&quot;/&quot;</span><span class="hl-0"> + </span><span class="hl-4">&quot;funko&quot;</span><span class="hl-0"> + </span><span class="hl-1">funkoID</span><span class="hl-0"> + </span><span class="hl-4">&quot;.json&quot;</span><br/><span class="hl-0">);</span>
</code></pre>
<p>Primero se elimina el funko en sí de de la lista del usuario y luego se eliminará el fichero .JSON correspondiente a dicho funko.</p>

<a href="#función-modifyfunko" id="función-modifyfunko" style="color: inherit; text-decoration: none;">
  <h3>Función modifyFunko</h3>
</a>
<p>En este caso se le pasará a la función aquel Funko que se quiere eliminar y de nuevo tenemos 3 casos:</p>
<ol>
<li><p>La lista está vacía y se indica mediante un mensaje.</p>
</li>
<li><p>La lista no está vacía pero el funko con ID que se intenta modificar no está en la lista, también se indica por mensaje.</p>
</li>
<li><p>La lista tiene Funkos y el que se intenta modificar sí existe, se eliminará entonces.</p>
</li>
</ol>
<p>Esta última caso se afronta de la siguiente manera:</p>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-9">datosFunko</span><span class="hl-0"> = </span><span class="hl-9">JSON</span><span class="hl-0">.</span><span class="hl-6">stringify</span><span class="hl-0">(</span><span class="hl-1">funkoModif</span><span class="hl-0">);</span><br/><span class="hl-1">fs</span><span class="hl-0">.</span><span class="hl-6">writeFileSync</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-4">&quot;./src/FunkoApp/Usuarios/&quot;</span><span class="hl-0"> +</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">nombre</span><span class="hl-0"> +</span><br/><span class="hl-0">    </span><span class="hl-4">&quot;/&quot;</span><span class="hl-0"> +</span><br/><span class="hl-0">    </span><span class="hl-4">&quot;funko&quot;</span><span class="hl-0"> +</span><br/><span class="hl-0">    </span><span class="hl-1">funkoModif</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0"> +</span><br/><span class="hl-0">    </span><span class="hl-4">&quot;.json&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">datosFunko</span><br/><span class="hl-0">);</span>
</code></pre>
<p>Se reescribe en el fichero correspondiente la nueva información del Funko existente.</p>

<a href="#función-listadefunkos" id="función-listadefunkos" style="color: inherit; text-decoration: none;">
  <h3>Función listaDeFunkos</h3>
</a>
<p>Con esta función se podrán mostrar por pantalla todos los funkos que están en la lista del usuario. En caso que el usuario tenga 0 funkos se indicará con un mensaje correspondiente. Por otro lado, para mostrar los funkos se hará haciendo uso de la función <em>print</em> correspondiente a la clase <strong>Funko</strong>.</p>
<pre><code class="language-ts"><span class="hl-0">  </span><span class="hl-6">listaDeFunkos</span><span class="hl-0">(): </span><span class="hl-5">void</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-3">if</span><span class="hl-0"> (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">misFunkos</span><span class="hl-0">.</span><span class="hl-1">length</span><span class="hl-0"> === </span><span class="hl-7">0</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><br/><span class="hl-0">        </span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-6">red</span><span class="hl-0">(</span><span class="hl-4">&quot;Usuario con 0 Funkos, añada alguno con la opción add&quot;</span><span class="hl-0">)</span><br/><span class="hl-0">      );</span><br/><span class="hl-0">    } </span><span class="hl-3">else</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">misFunkos</span><span class="hl-0">.</span><span class="hl-6">forEach</span><span class="hl-0">((</span><span class="hl-1">funko</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">funko</span><span class="hl-0">.</span><span class="hl-6">print</span><span class="hl-0">();</span><br/><span class="hl-0">      });</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>Como se observa será necesario realizar ninguna modificación en los ficheros JSON.</p>

<a href="#función-printfunko" id="función-printfunko" style="color: inherit; text-decoration: none;">
  <h3>Función printFunko</h3>
</a>
<p>Servirá para mostrar por pantalla aquel funko que se indique por parámetros.</p>
<pre><code class="language-ts"><span class="hl-0">  </span><span class="hl-6">printFunko</span><span class="hl-0">(</span><span class="hl-1">funkoID</span><span class="hl-0">: </span><span class="hl-1">number</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-9">indice</span><span class="hl-0"> = </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">misFunkos</span><span class="hl-0">.</span><span class="hl-6">findIndex</span><span class="hl-0">((</span><span class="hl-1">funko</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">funko</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0"> === </span><span class="hl-1">funkoID</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-3">if</span><span class="hl-0"> (</span><span class="hl-1">indice</span><span class="hl-0"> === -</span><span class="hl-7">1</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-3">return</span><span class="hl-0"> </span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-6">red</span><span class="hl-0">(</span><br/><span class="hl-0">        </span><span class="hl-4">`El funko con id </span><span class="hl-5">${</span><span class="hl-1">funkoID</span><span class="hl-5">}</span><span class="hl-4"> no está en la lista del usuario`</span><br/><span class="hl-0">      );</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">misFunkos</span><span class="hl-0">[</span><span class="hl-1">indice</span><span class="hl-0">].</span><span class="hl-6">print</span><span class="hl-0">();</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>Se obtendrá el índice correspondiente al ID que se recibe por parámetro y se imprimirá. En caso que no esté en la lista se indicará también por mensaje.</p>

<a href="#yargsmain" id="yargsmain" style="color: inherit; text-decoration: none;">
  <h2>YargsMain</h2>
</a>
<p>Este fichero tendrán las funciones necesarias y correspondientes con el main del programa que será el responsable de tener aquellas funcionalidades que podrá usar el usuario por comandos.</p>
<p>Los comandos serán:</p>
<ul>
<li><strong>Add</strong>: que solicitará al usuario los parámetros del funko que quiere añadir a la lista, una vez introduzca los datos se llamará a la función correspondiente con añadir un funko.</li>
</ul>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-9">usuario</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-6">Usuario</span><span class="hl-0">(</span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">usuario</span><span class="hl-0">);</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-9">funko</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-6">Funko</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">nombre</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">descripc</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">tipo</span><span class="hl-0"> </span><span class="hl-3">as</span><span class="hl-0"> </span><span class="hl-8">TipoFunko</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">genero</span><span class="hl-0"> </span><span class="hl-3">as</span><span class="hl-0"> </span><span class="hl-8">GeneroFunko</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">franquicia</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">numFranquicia</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">exclusivo</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">caracteristicas</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">valorMercado</span><br/><span class="hl-0">);</span><br/><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-1">usuario</span><span class="hl-0">.</span><span class="hl-6">addFunko</span><span class="hl-0">(</span><span class="hl-1">funko</span><span class="hl-0">));</span>
</code></pre>
<p>Se obtiene el usuario con su nombre que introduce por consola, se crea el funko con los datos de la terminal y se llama a la función addFunko.</p>
<ul>
<li><strong>Modify</strong>: que solicitará al usuario los parámetros del funko que quiere modificar, una vez introduzca los datos se llamará a la función correspondiente con modificar un funko.</li>
</ul>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-9">funko</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-6">Funko</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">nombre</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">descripc</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">tipo</span><span class="hl-0"> </span><span class="hl-3">as</span><span class="hl-0"> </span><span class="hl-8">TipoFunko</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">genero</span><span class="hl-0"> </span><span class="hl-3">as</span><span class="hl-0"> </span><span class="hl-8">GeneroFunko</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">franquicia</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">numFranquicia</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">exclusivo</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">caracteristicas</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">valorMercado</span><br/><span class="hl-0">);</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-9">usuario</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-6">Usuario</span><span class="hl-0">(</span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">usuario</span><span class="hl-0">);</span><br/><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-1">usuario</span><span class="hl-0">.</span><span class="hl-6">modifyFunko</span><span class="hl-0">(</span><span class="hl-1">funko</span><span class="hl-0">));</span>
</code></pre>
<p>Se obtiene el usuario con su nombre que introduce por consola, se crea el funko con los datos de la terminal y se llama a la función modifyFunko.</p>
<ul>
<li><strong>Delete</strong>: que solicitará al usuario el ID del funko que quiere eliminar, una vez introduzca los datos se llamará a la función correspondiente con eliminar un funko.</li>
</ul>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-9">usuario</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-6">Usuario</span><span class="hl-0">(</span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">usuario</span><span class="hl-0">);</span><br/><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-1">usuario</span><span class="hl-0">.</span><span class="hl-6">deleteFunko</span><span class="hl-0">(</span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">));</span>
</code></pre>
<p>Se obtiene el usuario con su nombre que introduce por consola y se llama a la función deleteFunko con el id que introdujo.</p>
<ul>
<li><strong>Listar o mostrar un único Funko</strong>: en este último caso tendremos dos opciones más de comandos para el usuario y estas llamarán a las funciones correspondientes <strong>usuario.listaDeFunkos()</strong> y <strong>usuario.printFunko(argv.id)</strong></li>
</ul>
<p>Con esto se acaban los comandos que podrá usar el usuario.</p>

<a href="#conclusión" id="conclusión" style="color: inherit; text-decoration: none;">
  <h2><strong>Conclusión</strong></h2>
</a>
<p>Finalmente con esto estaría el programa terminado y estarían definidas las clases necesarias para representar los objetos que usarán y además estarán definidos los comandos que podrá usar el usuario. De esta práctica se puede destacar que es la primera en la que se hace uso de node.js, en este caso la API síncorna y considero que es una herramienta bastante útil para trabajar con ficheros JSON y poder manejar de una mejor forma la información de los mismos. Además, las otras herramientas <strong>yargs</strong> y <strong>chalk</strong> tienen buenas funcionalidades para trabajar con la terminar, tanto para mostrar información con diferentes colores y resaltar ciertos avisos como para pedir valores por consola y definir comandos para usar por terminal.</p>

<a href="#lucas-pérez-rosario-05052023-dsi" id="lucas-pérez-rosario-05052023-dsi" style="color: inherit; text-decoration: none;">
  <h6>Lucas Pérez Rosario, 05/05/2023, DSI</h6>
</a>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">prct09_<wbr/>Lucasperez02</a>
<ul>
<li class="tsd-kind-module"><a href="modules/Funko_enumGenero.html">Funko/enum<wbr/>Genero</a></li>
<li class="tsd-kind-module"><a href="modules/Funko_enumTipo.html">Funko/enum<wbr/>Tipo</a></li>
<li class="tsd-kind-module"><a href="modules/Funko_funko.html">Funko/funko</a></li>
<li class="tsd-kind-module"><a href="modules/Usuario_Ususario.html">Usuario/<wbr/>Ususario</a></li>
<li class="tsd-kind-module"><a href="modules/yargsMain.html">yargs<wbr/>Main</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>